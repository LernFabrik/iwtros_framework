<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from kuka_iiwa7_system.urdf.xacro   | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="kuka_iiwa7_system" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <link name="world_interface"/>
  <material name="Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="Blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="Green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="Grey">
    <color rgba="0.4 0.4 0.4 1.0"/>
  </material>
  <material name="Orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="Brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <joint name="world_iiwa_table_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 1.0"/>
    <parent link="world_interface"/>
    <!--child link="${robot_arm_name}_table_fixed_link"/ -->
    <!--child link="${robot_arm_name}_table_yaw_link"/-->
    <child link="iiwa_table_base"/>
  </joint>
  <!--joint name="${robot_arm_name}_table_x_joint" type="prismatic">
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <parent link="${robot_arm_name}_table_fixed_link"/>
      <child link="${robot_arm_name}_table_x_link"/>
      <axis xyz="1 0 0" />
      <limit effort="10000" lower="-5.0" upper="5.0" velocity="1" />
    </joint>

    <joint name="${robot_arm_name}_table_yaw_joint" type="continuous">
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <parent link="${robot_arm_name}_table_x_link"/>
      <child link="${robot_arm_name}_table_yaw_link"/>
      <axis xyz="0 0 1" />
    </joint-->
  <!-- Extra links-->
  <!--link name="${robot_arm_name}_table_fixed_link">
      <inertial>
        <mass value="1"/>
          <origin xyz="0 0 0" />
            <inertia  ixx="1" ixy="0.0"  ixz="0.0"  iyy="1"  iyz="0.0"  izz="1" />
      </inertial>
     <visual>
        <origin rpy="0 0 0" xyz="0.0 0 0"/>
        <geometry>
          <box size="0.001 0.001 0.001" />
        </geometry>
        <material name="grey">
          <color rgba="0.5 0.5 0.5 1"/>
        </material>
      </visual>
    </link>
    
    <link name="${robot_arm_name}_table_x_link" >
      <inertial>
        <mass value="1"/>
          <origin xyz="0 0 0" />
            <inertia  ixx="1" ixy="0.0"  ixz="0.0"  iyy="1"  iyz="0.0"  izz="1" />
      </inertial>
     <visual>
        <origin rpy="0 0 0" xyz="0.0 0 0"/>
        <geometry>
          <box size="0.001 0.001 0.001" />
        </geometry>
        <material name="grey">
          <color rgba="0.5 0.5 0.5 1"/>
        </material>
      </visual>
    </link-->
  <!-- BASE LINK -->
  <link name="iiwa_table_base">
    <inertial>
      <mass value="80"/>
      <origin xyz="0 0 -0.5"/>
      <inertia ixx="9.87475333333" ixy="0.0" ixz="0.0" iyy="9.75489333333" iyz="0.0" izz="6.37619333333"/>
    </inertial>
    <visual>
      <!--origin rpy="0 0 0" xyz="0.0 0 -${0.99613/2}"/-->
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://robots_ee_pkg/meshes/lf064_base.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://robots_ee_pkg/meshes/lf064_base.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="iiwa_table_base">
    <material>Gazebo/Grey</material>
    <gravity>true</gravity>
    <selfCollide>false</selfCollide>
    <mu1>0.3</mu1>
    <mu2>0.3</mu2>
  </gazebo>
  <joint name="iiwa_table_base_top_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.0 0 0.015"/>
    <parent link="iiwa_table_base"/>
    <child link="iiwa_table_ee"/>
  </joint>
  <!-- Table Plate LINK -->
  <link name="iiwa_table_ee">
    <inertial>
      <mass value="20"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="3.0" ixy="0.0" ixz="0.0" iyy="3.0" iyz="0.0" izz="3.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://robots_ee_pkg/meshes/lf064_table.stl" scale="0.001 0.001 0.001"/>
        <!--box size="0.146 0.05 0.0735"/-->
      </geometry>
      <material name="grey">
        <color rgba="0.6 0.5 0.5 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://robots_ee_pkg/meshes/lf064_table.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="iiwa_table_ee">
    <material>Gazebo/Black</material>
    <turnGravityOff>true</turnGravityOff>
    <mu1>0.5</mu1>
    <mu2>0.4</mu2>
  </gazebo>
  <!--gazebo reference="${robot_arm_name}_table_fixed_link">
      <material>Gazebo/Grey</material>
      <selfCollide>false</selfCollide>
      <turnGravityOff>true</turnGravityOff>
      <mu1>0.1</mu1>
      <mu2>0.1</mu2>
    </gazebo>

    <gazebo reference="${robot_arm_name}_table_x_link">
      <material>Gazebo/Grey</material>
      <selfCollide>false</selfCollide>
      <turnGravityOff>true</turnGravityOff>
      <mu1>0.1</mu1>
      <mu2>0.1</mu2>
    </gazebo>

    <transmission name="tran1">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="${robot_arm_name}_table_x_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor1">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <transmission name="tran2">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="${robot_arm_name}_table_yaw_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor2">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission -->
  <!--joint between {parent} and link_0-->
  <joint name="iiwa_table_ee_iiwa_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="iiwa_table_ee"/>
    <child link="iiwa_link_0"/>
  </joint>
  <link name="iiwa_link_0">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.1 0 0.07"/>
      <mass value="5"/>
      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.06" iyz="0" izz="0.03"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_0.stl"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_0.stl"/>
      </geometry>
      <material name="Grey"/>
    </collision>
    <self_collision_checking>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <capsule length="0.25" radius="0.15"/>
      </geometry>
    </self_collision_checking>
  </link>
  <!-- joint between link_0 and link_1 -->
  <joint name="iiwa_joint_1" type="revolute">
    <parent link="iiwa_link_0"/>
    <child link="iiwa_link_1"/>
    <origin rpy="0 0 0" xyz="0 0 0.15"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 -0.03 0.12"/>
      <mass value="3.4525"/>
      <inertia ixx="0.02183" ixy="0" ixz="0" iyy="0.007703" iyz="-0.003887" izz="0.02083"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.0075"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_1.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0075"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_1.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <joint name="iiwa_joint_2" type="revolute">
    <parent link="iiwa_link_1"/>
    <child link="iiwa_link_2"/>
    <origin rpy="1.57079632679   0 3.14159265359" xyz="0 0 0.19"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.09439510239" upper="2.09439510239" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_2">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0003 0.059 0.042"/>
      <mass value="3.4821"/>
      <inertia ixx="0.02076" ixy="0" ixz="-0.003626" iyy="0.02179" iyz="0" izz="0.00779"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_2.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_2.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <joint name="iiwa_joint_3" type="revolute">
    <parent link="iiwa_link_2"/>
    <child link="iiwa_link_3"/>
    <origin rpy="1.57079632679 0 3.14159265359" xyz="0 0.21 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_3">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.03 0.13"/>
      <mass value="4.05623"/>
      <inertia ixx="0.03204" ixy="0" ixz="0" iyy="0.00972" iyz="0.006227" izz="0.03042"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.026"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_3.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.026"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_3.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <joint name="iiwa_joint_4" type="revolute">
    <parent link="iiwa_link_3"/>
    <child link="iiwa_link_4"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0 0.19"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.09439510239" upper="2.09439510239" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_4">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.067 0.034"/>
      <mass value="3.4822"/>
      <inertia ixx="0.02178" ixy="0" ixz="0" iyy="0.02075" iyz="-0.003625" izz="0.007785"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_4.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_4.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <joint name="iiwa_joint_5" type="revolute">
    <parent link="iiwa_link_4"/>
    <child link="iiwa_link_5"/>
    <origin rpy="-1.57079632679 3.14159265359 0" xyz="0 0.21 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.96705972839" upper="2.96705972839" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_5">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0001 0.021 0.076"/>
      <mass value="2.1633"/>
      <inertia ixx="0.01287" ixy="0" ixz="0" iyy="0.005708" iyz="-0.003946" izz="0.01112"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.026"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_5.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.026"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_5.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <joint name="iiwa_joint_6" type="revolute">
    <parent link="iiwa_link_5"/>
    <child link="iiwa_link_6"/>
    <origin rpy="1.57079632679 0 0" xyz="0 0.06070 0.19"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-2.09439510239" upper="2.09439510239" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_6">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0.0006 0.0004"/>
      <mass value="2.3466"/>
      <inertia ixx="0.006509" ixy="0" ixz="0" iyy="0.006259" iyz="0.00031891" izz="0.004527"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_6.stl"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_6.stl"/>
      </geometry>
      <material name="Orange"/>
    </collision>
  </link>
  <joint name="iiwa_joint_7" type="revolute">
    <parent link="iiwa_link_6"/>
    <child link="iiwa_link_7"/>
    <origin rpy="-1.57079632679 3.14159265359 0" xyz="0 0.081 0.06070"/>
    <axis xyz="0 0 1"/>
    <limit effort="300" lower="-3.05432619099" upper="3.05432619099" velocity="10"/>
    <safety_controller k_position="100" k_velocity="2" soft_lower_limit="-3.01941960595" soft_upper_limit="3.01941960595"/>
    <dynamics damping="0.5"/>
  </joint>
  <link name="iiwa_link_7">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.02"/>
      <mass value="3.129"/>
      <inertia ixx="0.01464" ixy="0.0005912" ixz="0" iyy="0.01465" iyz="0" izz="0.002872"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.0005"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/visual/link_7.stl"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.0005"/>
      <geometry>
        <mesh filename="package://iiwa_description/meshes/iiwa7/collision/link_7.stl"/>
      </geometry>
      <material name="Grey"/>
    </collision>
  </link>
  <joint name="iiwa_joint_ee" type="fixed">
    <parent link="iiwa_link_7"/>
    <child link="iiwa_link_ee"/>
    <origin rpy="0 0 0" xyz="0 0 0.045"/>
  </joint>
  <link name="iiwa_link_ee">
    </link>
  <transmission name="iiwa_tran_1">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_2">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_3">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_4">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_5">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_6">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="iiwa_tran_7">
    <robotNamespace>/iiwa</robotNamespace>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="iiwa_joint_7">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="iiwa_motor_7">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- refer hrwros  robot_system.gazebo.xacro -->
  <!-- add here the gripper-->
  <gazebo reference="iiwa_link_0">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_1">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_2">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_3">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_4">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_5">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_6">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="iiwa_link_7">
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>true</selfCollide>
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <robotParam>/iiwa/iiwa_description</robotParam>
      <legacyModeNS>false</legacyModeNS>
    </plugin>
  </gazebo>
  <joint name="wsg50_anterior_gripper_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="iiwa_link_ee"/>
    <child link="wsg50_base_link"/>
  </joint>
  <!-- BASE LINK -->
  <link name="wsg50_base_link">
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <!--inertia ixx="1.0" ixy="0.0" ixz="0.0"
               iyy="100.0" iyz="0.0" 
               izz="1.0" /-->
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/WSG50_110.stl" scale="1 1 1"/>
        <!--box size="0.146 0.05 0.0735"/-->
      </geometry>
      <material name="grey">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <!--box size="0.146 0.05 0.0735"/-->
        <mesh filename="package://wsg_50_simulation/meshes/WSG50_110.stl" scale="1 1 1"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="wsg50_base_link">
    <material>Gazebo/Grey</material>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <joint name="wsg50_center_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.023"/>
    <!--origin xyz="-0.0067 0 0.049" rpy="0 0 0" /-->
    <parent link="wsg50_base_link"/>
    <child link="wsg50_center"/>
  </joint>
  <link name="wsg50_center">
  </link>
  <!-- GRIPPER LEFT -->
  <joint name="wsg50_finger_left_joint" type="prismatic">
    <limit effort="1.0" lower="-0.055" upper="-0.0027" velocity="1.0"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <!--origin xyz="-0.0067 0 0.049" rpy="0 0 0" /-->
    <parent link="wsg50_base_link"/>
    <child link="wsg50_gripper_left"/>
    <dynamics damping="100" friction="100"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" velocity="100"/>
  </joint>
  <transmission name="wsg50_base_trans_left" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="wsg50_base_motor_left"/>
    <joint name="wsg50_base_joint_gripper_left"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="wsg50_gripper_left">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/GUIDE_WSG50_110.stl" scale="0.001 0.001 0.001"/>
        <!--box size="0.0175 0.03 0.024"/-->
      </geometry>
      <material name="black">
        <color rgba="0 0 0 0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <!--box size="0.0175 0.03 0.024"/-->
        <mesh filename="package://wsg_50_simulation/meshes/GUIDE_WSG50_110.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <contact_coefficients kd="1.0" kp="1000.0" mu="0"/>
  </link>
  <gazebo reference="wsg50_gripper_left">
    <material>Gazebo/Blue</material>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <!-- LEFT FINGER -->
  <joint name="wsg50_guide_joint_finger_left" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.023"/>
    <parent link="wsg50_gripper_left"/>
    <child link="wsg50_finger_left"/>
    <dynamics damping="100" friction="100"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" velocity="100"/>
  </joint>
  <link name="wsg50_finger_left">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/WSG-FMF.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/WSG-FMF.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <contact_coefficients kd="1.0" kp="1000.0" mu="0"/>
  </link>
  <gazebo reference="wsg50_finger_left">
    <material>Gazebo/Blue</material>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <!-- GRIPPER RIGHT -->
  <joint name="wsg50_finger_right_joint" type="prismatic">
    <limit effort="1.0" lower="0.0027" upper="0.055" velocity="1.0"/>
    <origin rpy="0 0 3.14159" xyz="0 0 0"/>
    <parent link="wsg50_base_link"/>
    <child link="wsg50_gripper_right"/>
    <axis xyz="-1 0 0"/>
    <dynamics damping="100" friction="100"/>
    <limit effort="100" velocity="100"/>
  </joint>
  <transmission name="wsg50_base_trans_right" type="pr2_mechanism_model/SimpleTransmission">
    <actuator name="wsg50_base_motor_right"/>
    <joint name="wsg50_base_joint_gripper_right"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="wsg50_gripper_right">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/GUIDE_WSG50_110.stl" scale="0.001 0.001 0.001"/>
        <!--box size="0.0175 0.03 0.024"/-->
      </geometry>
      <material name="black">
        <color rgba="0 0 0 0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <!--box size="0.0175 0.03 0.024"/-->
        <mesh filename="package://wsg_50_simulation/meshes/GUIDE_WSG50_110.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <contact_coefficients kd="1.0" kp="1000.0" mu="0"/>
  </link>
  <gazebo reference="gripper_right">
    <material>Gazebo/White</material>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <!-- RIGHT FINGER -->
  <joint name="wsg50_guide_joint_finger_right" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.023"/>
    <parent link="wsg50_gripper_right"/>
    <child link="wsg50_finger_right"/>
    <dynamics damping="100" friction="100"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" velocity="100"/>
  </joint>
  <link name="wsg50_finger_right">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/WSG-FMF.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://wsg_50_simulation/meshes/WSG-FMF.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <contact_coefficients kd="1.0" kp="1000.0" mu="0"/>
  </link>
  <gazebo reference="wsg50_finger_right">
    <material>Gazebo/White</material>
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="world_interface">
    <gravity>true</gravity>
  </gazebo>
  <gazebo>
    <plugin filename="libROSTableControlPlugin.so" name="ROSTableControlPlugin">
      <table_cmd_vel>/iiwa/tbl_cmd_vel</table_cmd_vel>
      <offset_x>0</offset_x>
      <offset_y>0</offset_y>
      <offset_z>1.0</offset_z>
      <offset_yaw>3.14159265359</offset_yaw>
      <table_base_link>iiwa_table_base</table_base_link>
    </plugin>
  </gazebo>
</robot>

